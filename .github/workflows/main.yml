on:
  push:
    branches: [ main ]
name: ðŸš€ Deploy website on push
jobs:
  web-deploy:
    name: ðŸŽ‰ Auto Deploy
    runs-on: ubuntu-latest
    steps:
    - name: ðŸšš Get latest code
      uses: actions/checkout@v3
      
    - name: Setup Rsync
      uses: GuillaumeFalourd/setup-rsync@main
    - run: rsync --version
    
    - name: ðŸ“‚ Sync files
      uses: D3rHase/rsync-deploy-action@0.2
      with:
       HOST: zam.skom.id                             # Remote server address / ip - Required: true
       PORT: 22                             # Remote server port -  Default: 22 - Required: false
       USER: uiixb8hw                             # Remote server user - Required: true
       PRIVATE_SSH_KEY: ${{ secrets.DEPLOY_KEY }}       # Private ssh key registered on the remote server - Required: true
       REPOSITORY_PATH: /       # Repository path of the file-s you want to upload - Default: * - Required: true
       SERVER_PATH: /home/uiixb8hw/public_html/zamisyh.tech               # Server destination / path, where the file-s will be uploaded to - Default: ~/ - Required: false
        
   
